% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_generation.R
\name{simulate_data}
\alias{simulate_data}
\title{Simulate training and testing datasets under a missingness mechanism}
\usage{
simulate_data(
  train_size,
  test_size,
  theta,
  beta_phi,
  missingness_target_X1,
  missingness_target_Y = 0
)
}
\arguments{
\item{train_size}{Integer. Number of observations in the training dataset.}

\item{test_size}{Integer. Number of observations in the testing dataset.}

\item{theta}{List. Parameters of the data-generating model for
\code{X1}, \code{X2}, and \code{Y}.}

\item{beta_phi}{Numeric vector. Coefficients of the logistic model governing
missingness in \code{X1}, including the intercept.}

\item{missingness_target_X1}{Numeric scalar in \eqn{[0,1]}. Target marginal
missingness proportion for \code{X1}.}

\item{missingness_target_Y}{Numeric scalar in \eqn{[0,1]}. Target marginal
missingness proportion for \code{Y}. Defaults to 0.}
}
\value{
A list with two elements:
\describe{
  \item{train}{Data frame containing \code{X1}, \code{X2}, \code{Y} and
    missingness indicators \code{MX1} and \code{MY} for the training set.}
  \item{test}{Data frame with the same structure, generated independently
    for the testing set.}
}
}
\description{
Generates independent training and testing datasets from a Gaussian
data-generating model for \code{X1}, \code{X2}, and \code{Y}, together with
missingness indicators for \code{X1} and \code{Y}. Missing values are not
introduced at this stage; only missingness indicators are generated.
}
\details{
The variables \code{X1} and \code{X2} are generated independently from
normal distributions specified in \code{theta}. The outcome \code{Y} is
generated from a linear Gaussian model conditional on \code{X1} and
\code{X2}.

Missingness in \code{X1} is generated according to a logistic model with
linear predictor \code{beta_phi[1] + beta_phi[2] * X1 + beta_phi[3] * X2 +
beta_phi[4] * Y}. Missingness in \code{Y} is generated independently with
probability \code{missingness_target_Y}.

The intercept of the missingness model may be tuned externally to ensure
that the marginal probability of missingness in \code{X1} matches
\code{missingness_target_X1} in expectation.

The function returns fully observed variables together with missingness
indicators; conversion of indicators into \code{NA} values is handled
separately by \code{mask_data()}.
}
\examples{
\dontrun{
data <- simulate_data(
  train_size = 1000,
  test_size = 1000,
  theta = theta,
  beta_phi = beta_phi,
  missingness_target_X1 = 0.3
)
}
}
