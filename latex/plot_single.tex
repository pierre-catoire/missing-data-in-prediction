\documentclass[tikz,border=2mm]{standalone}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{xcolor}

% ---------- Layout ----------
\pgfplotsset{
  myaxis/.style={
    width=8.2cm,
    height=6.2cm,
    xmin=0, xmax=1,
    xlabel={Observed missingness proportion},
    ylabel={MSE},
    tick label style={font=\small},
    label style={font=\small},
    title style={font=\small},
    grid=major,
    grid style={gray!20},
    legend style={
      font=\small,
      draw=none,
      fill=none
    }
  }
}

% ---------- Colors (colorblind-safe) ----------
\definecolor{ps}{RGB}{27,158,119}
\definecolor{ccs}{RGB}{217,95,2}
\definecolor{mle}{RGB}{117,112,179}
\definecolor{mlemi}{RGB}{231,41,138}
\definecolor{mi}{RGB}{102,166,30}
\definecolor{mimi}{RGB}{230,171,2}
\definecolor{refMU}{RGB}{166,118,29}
\definecolor{refMC}{RGB}{102,102,102}

% ---------- Point & line styles ----------
\pgfplotsset{
  datapoints/.style={
    only marks,
    mark=*,
    mark size=0.55pt,
    opacity=0.22
  },
  loessline/.style={
    very thick
  }
}

% ---------- Single method macro ----------
\newcommand{\addmethod}[4]{%
  % #1 = column name
  % #2 = color
  % #3 = legend label
  % #4 = file base

  % points
  \addplot[
    datapoints,
    draw=#2,
    fill=#2
  ]
  table[
    col sep=comma,
    x=observedmissingness,
    y=#1
  ]{#4_points.csv};

  % loess
  \addplot[
    loessline,
    color=#2
  ]
  table[
    col sep=comma,
    x=observedmissingness,
    y=#1
  ]{#4_loess.csv};

  \addlegendentry{#3}
}

\begin{document}

\begin{tikzpicture}
\begin{axis}[myaxis, title={Scenario M3 â€” Complete cases}]

  \addmethod{ps}{ps}{PS}{M3_complete_mse}
  \addmethod{ccs}{ccs}{CCS}{M3_complete_mse}
  \addmethod{mle}{mle}{MLE}{M3_complete_mse}
  \addmethod{mlemi}{mlemi}{MLE-MI}{M3_complete_mse}
  \addmethod{mi}{mi}{MI}{M3_complete_mse}
  \addmethod{mimi}{mimi}{MIMI}{M3_complete_mse}
  \addmethod{refMU}{refMU}{Ref-MU}{M3_complete_mse}
  \addmethod{refMC}{refMC}{Ref-MC}{M3_complete_mse}

\end{axis}
\end{tikzpicture}

\end{document}
